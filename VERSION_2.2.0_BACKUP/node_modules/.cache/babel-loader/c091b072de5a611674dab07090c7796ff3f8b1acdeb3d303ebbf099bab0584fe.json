{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import{format,parse,isValid,differenceInDays,startOfYear,endOfYear,startOfWeek,endOfWeek,startOfMonth,endOfMonth,isWithinInterval,parseISO}from'date-fns';import{ChartBarIcon,UserIcon,BuildingOfficeIcon,FolderIcon,CalendarDaysIcon,ClockIcon,CheckCircleIcon,ExclamationTriangleIcon,ArrowTrendingUpIcon,ArrowTrendingDownIcon,SparklesIcon}from'@heroicons/react/24/outline';import{globalTaskStore}from'./globalTaskStore';import{microsoftDataService}from'./microsoftDataService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DataPage(){const[tasks,setTasks]=useState([]);const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const loadData=async()=>{try{setLoading(true);// Subscribe to global task store updates\nconst unsubscribe=globalTaskStore.subscribe(()=>{const allTasks=globalTaskStore.getAllTasks();setTasks(allTasks);});// Get initial data\nconst[allTasks,usersData]=await Promise.all([globalTaskStore.getAllTasks(),microsoftDataService.users.getEnterpriseUsers()]);setTasks(allTasks);setUsers(usersData);return unsubscribe;}catch(error){console.error('DataPage: Error loading data:',error);}finally{setLoading(false);}};loadData();},[]);// Helper function to parse deadline dates\nconst parseDeadlineDate=dateStr=>{if(!dateStr)return null;try{const isoDate=new Date(dateStr);if(!isNaN(isoDate.getTime())){return isoDate;}const parsed=parse(dateStr,'yyyy-MM-dd',new Date());return isValid(parsed)?parsed:null;}catch(_unused){return null;}};// Get current year tasks\nconst getCurrentYearTasks=()=>{const currentYear=new Date().getFullYear();const yearStart=startOfYear(new Date(currentYear,0,1));const yearEnd=endOfYear(new Date(currentYear,11,31));return tasks.filter(task=>{const deadline=parseDeadlineDate(task.Deadline);return deadline&&isWithinInterval(deadline,{start:yearStart,end:yearEnd});});};// Calculate comprehensive metrics\nconst metrics=useMemo(()=>{const currentYear=new Date().getFullYear();const currentYearTasks=getCurrentYearTasks();const thisWeekStart=startOfWeek(new Date());const thisWeekEnd=endOfWeek(new Date());const thisMonthStart=startOfMonth(new Date());const thisMonthEnd=endOfMonth(new Date());// Helper to check completion\nconst isCompleted=task=>task.Completed_x003f_===true||task.Completed_x003f_==='Yes'||task.Completed_x003f_==='yes'||task.Completed===true||task.Completed==='Yes'||task.Completed==='yes';// Total counts\nconst totalTasksAllTime=tasks.length;const totalTasksThisYear=currentYearTasks.length;const completedTasksAllTime=tasks.filter(isCompleted).length;const completedTasksThisYear=currentYearTasks.filter(isCompleted).length;// Due this week/month/year\nconst tasksThisWeek=tasks.filter(task=>{const deadline=parseDeadlineDate(task.Deadline);return deadline&&isWithinInterval(deadline,{start:thisWeekStart,end:thisWeekEnd});});const tasksThisMonth=tasks.filter(task=>{const deadline=parseDeadlineDate(task.Deadline);return deadline&&isWithinInterval(deadline,{start:thisMonthStart,end:thisMonthEnd});});// Task types (Priority)\nconst urgentTasksAllTime=tasks.filter(t=>t.Priority==='Urgent').length;const urgentTasksThisYear=currentYearTasks.filter(t=>t.Priority==='Urgent').length;const normalTasksAllTime=tasks.filter(t=>t.Priority!=='Urgent').length;const normalTasksThisYear=currentYearTasks.filter(t=>t.Priority!=='Urgent').length;// Overdue tasks\nconst now=new Date();const overdueTasks=tasks.filter(task=>{if(isCompleted(task))return false;const deadline=parseDeadlineDate(task.Deadline);return deadline&&deadline<now;});// Calculate average completion time before due date\nconst completedTasksWithData=tasks.filter(task=>{if(!isCompleted(task))return false;const deadline=parseDeadlineDate(task.Deadline);// Check if task has a Modified date that we can use as completion date\nreturn deadline&&task.Modified;});let avgDaysBeforeDue=0;if(completedTasksWithData.length>0){const totalDays=completedTasksWithData.reduce((sum,task)=>{const deadline=parseDeadlineDate(task.Deadline);const completedDate=new Date(task.Modified);const daysBeforeDue=differenceInDays(deadline,completedDate);return sum+daysBeforeDue;},0);avgDaysBeforeDue=Math.round(totalDays/completedTasksWithData.length);}// Department metrics\nconst USER_ASSIGNMENTS_KEY='user_assignments';let localAssignments={};try{const stored=localStorage.getItem(USER_ASSIGNMENTS_KEY);if(stored){localAssignments=JSON.parse(stored);}}catch(error){console.error('DataPage: Error loading user assignments:',error);}const departments=['Development','Accounting','Compliance','Management'];const departmentMetrics={};departments.forEach(dept=>{const deptTasks=currentYearTasks.filter(task=>{const responsibleParty=task.ResponsibleParty;if(!responsibleParty)return false;const emails=responsibleParty.split(';').map(e=>e.trim());return emails.some(email=>{const assignment=localAssignments[email];return assignment&&assignment.departments&&assignment.departments.includes(dept);});});const completedDeptTasks=deptTasks.filter(isCompleted);departmentMetrics[dept]={total:deptTasks.length,completed:completedDeptTasks.length,percentage:deptTasks.length>0?Math.round(completedDeptTasks.length/deptTasks.length*100):0};});// Project metrics\nconst projects=[...new Set(currentYearTasks.map(t=>t.Project).filter(Boolean))];const projectMetrics={};projects.forEach(project=>{const projectTasks=currentYearTasks.filter(t=>t.Project===project);const completedProjectTasks=projectTasks.filter(isCompleted);projectMetrics[project]={total:projectTasks.length,completed:completedProjectTasks.length,percentage:projectTasks.length>0?Math.round(completedProjectTasks.length/projectTasks.length*100):0};});// User metrics\nconst userMetrics=users.map(user=>{const userEmail=user.mail||user.userPrincipalName||user.email;const userDisplayName=user.displayName||user.DisplayName||userEmail;const userTasks=currentYearTasks.filter(task=>{const responsibleParty=task.ResponsibleParty;if(!responsibleParty)return false;// Try matching by email first\nif(responsibleParty.toLowerCase().includes(userEmail.toLowerCase())){return true;}// Try matching by display name\nif(responsibleParty.toLowerCase().includes(userDisplayName.toLowerCase())){return true;}// Try matching by initials + display name (like \"NK Nick Karamardian\")\nconst initials=userDisplayName.split(' ').map(n=>n.charAt(0)).join('');const initialsWithName=\"\".concat(initials,\" \").concat(userDisplayName).toLowerCase();if(responsibleParty.toLowerCase().includes(initialsWithName)){return true;}return false;});const completedUserTasks=userTasks.filter(isCompleted);return{name:user.displayName||user.DisplayName||userEmail,email:userEmail,total:userTasks.length,completed:completedUserTasks.length,percentage:userTasks.length>0?Math.round(completedUserTasks.length/userTasks.length*100):0};});return{totalTasksAllTime,totalTasksThisYear,completedTasksAllTime,completedTasksThisYear,tasksThisWeek:tasksThisWeek.length,tasksThisMonth:tasksThisMonth.length,urgentTasksAllTime,urgentTasksThisYear,normalTasksAllTime,normalTasksThisYear,overdueTasks:overdueTasks.length,avgDaysBeforeDue,completionRateAllTime:totalTasksAllTime>0?Math.round(completedTasksAllTime/totalTasksAllTime*100):0,completionRateThisYear:totalTasksThisYear>0?Math.round(completedTasksThisYear/totalTasksThisYear*100):0,departmentMetrics,projectMetrics,userMetrics};},[tasks,users]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 dark:text-gray-400\",children:\"Loading data...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"Data Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mt-1\",children:\"Comprehensive metrics and insights across your entire project portfolio\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:format(new Date(),'MMMM yyyy')}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:[\"Data as of \",format(new Date(),'MMM dd, yyyy')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(SparklesIcon,{className:\"w-6 h-6 text-blue-500\"}),\"All-Time Overview\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-900 dark:text-blue-300\",children:\"Total Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-blue-600 dark:text-blue-400 mt-2\",children:metrics.totalTasksAllTime}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700 dark:text-blue-300 mt-1\",children:\"All time\"})]}),/*#__PURE__*/_jsx(ChartBarIcon,{className:\"w-12 h-12 text-blue-500 opacity-50\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-900 dark:text-green-300\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-green-600 dark:text-green-400 mt-2\",children:metrics.completedTasksAllTime}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-green-700 dark:text-green-300 mt-1\",children:[metrics.completionRateAllTime,\"% completion rate\"]})]}),/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-12 h-12 text-green-500 opacity-50\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-orange-200 dark:border-orange-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-orange-900 dark:text-orange-300\",children:\"Urgent Priority\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-orange-600 dark:text-orange-400 mt-2\",children:metrics.urgentTasksAllTime}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-orange-700 dark:text-orange-300 mt-1\",children:\"High priority tasks\"})]}),/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-12 h-12 text-orange-500 opacity-50\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-6 border border-red-200 dark:border-red-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-red-900 dark:text-red-300\",children:\"Overdue\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-red-600 dark:text-red-400 mt-2\",children:metrics.overdueTasks}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-700 dark:text-red-300 mt-1\",children:\"Past deadline\"})]}),/*#__PURE__*/_jsx(ClockIcon,{className:\"w-12 h-12 text-red-500 opacity-50\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"w-6 h-6 text-purple-500\"}),new Date().getFullYear(),\" Overview\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Total Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mt-2\",children:metrics.totalTasksThisYear}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"This year\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-600 dark:text-green-400 mt-2\",children:metrics.completedTasksThisYear}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:[metrics.completionRateThisYear,\"% rate\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"This Week\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mt-2\",children:metrics.tasksThisWeek}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"Due this week\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"This Month\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2\",children:metrics.tasksThisMonth}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"Due this month\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Urgent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2\",children:metrics.urgentTasksThisYear}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:\"High priority\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(ArrowTrendingUpIcon,{className:\"w-6 h-6 text-green-500\"}),\"Performance Metrics\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl p-6 border border-emerald-200 dark:border-emerald-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-emerald-500 rounded-lg\",children:/*#__PURE__*/_jsx(ClockIcon,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-emerald-900 dark:text-emerald-300\",children:\"Avg. Completion Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-emerald-700 dark:text-emerald-400\",children:\"Days before deadline\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-emerald-600 dark:text-emerald-400\",children:metrics.avgDaysBeforeDue>0?\"+\".concat(metrics.avgDaysBeforeDue):metrics.avgDaysBeforeDue}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-emerald-700 dark:text-emerald-300 mt-2\",children:metrics.avgDaysBeforeDue>0?'Completed early on average':metrics.avgDaysBeforeDue<0?'Completed late on average':'On-time completion'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-500 rounded-lg\",children:/*#__PURE__*/_jsx(ChartBarIcon,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-900 dark:text-blue-300\",children:\"Task Priority Split\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700 dark:text-blue-400\",children:\"This year distribution\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Urgent:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:metrics.urgentTasksThisYear})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Normal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:metrics.normalTasksThisYear})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-500 rounded-lg\",children:/*#__PURE__*/_jsx(CalendarDaysIcon,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-purple-900 dark:text-purple-300\",children:\"Upcoming Deadlines\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-purple-700 dark:text-purple-400\",children:\"Next 30 days\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"This Week:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:metrics.tasksThisWeek})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"This Month:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:metrics.tasksThisMonth})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"w-6 h-6 text-indigo-500\"}),\"Department Progress (\",new Date().getFullYear(),\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:Object.entries(metrics.departmentMetrics).map(_ref=>{let[dept,data]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 dark:text-white\",children:dept}),/*#__PURE__*/_jsx(BuildingOfficeIcon,{className:\"w-5 h-5 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Completed\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-900 dark:text-white\",children:[data.completed,\" / \",data.total]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-600 dark:bg-indigo-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(data.percentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-center text-gray-500 dark:text-gray-400\",children:[data.percentage,\"% complete\"]})]})]},dept);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FolderIcon,{className:\"w-6 h-6 text-cyan-500\"}),\"Project Progress (\",new Date().getFullYear(),\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:Object.entries(metrics.projectMetrics).slice(0,9).map(_ref2=>{let[project,data]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 dark:text-white text-sm truncate\",title:project,children:project}),/*#__PURE__*/_jsx(FolderIcon,{className:\"w-5 h-5 text-gray-400 flex-shrink-0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Completed\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-900 dark:text-white\",children:[data.completed,\" / \",data.total]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-cyan-600 dark:bg-cyan-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(data.percentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-center text-gray-500 dark:text-gray-400\",children:[data.percentage,\"% complete\"]})]})]},project);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"w-6 h-6 text-pink-500\"}),\"User Progress (\",new Date().getFullYear(),\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Total Tasks\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Progress\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Completion Rate\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200 dark:divide-gray-700\",children:metrics.userMetrics.map((user,idx)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 bg-pink-100 dark:bg-pink-900/30 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-pink-600 dark:text-pink-400\",children:user.name.charAt(0)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:user.email})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:user.total}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400\",children:user.completed}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-pink-600 dark:bg-pink-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(user.percentage,\"%\")}})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:[user.percentage,\"%\"]})})]},idx))})]})})})]})]});}export default DataPage;","map":{"version":3,"names":["React","useState","useEffect","useMemo","format","parse","isValid","differenceInDays","startOfYear","endOfYear","startOfWeek","endOfWeek","startOfMonth","endOfMonth","isWithinInterval","parseISO","ChartBarIcon","UserIcon","BuildingOfficeIcon","FolderIcon","CalendarDaysIcon","ClockIcon","CheckCircleIcon","ExclamationTriangleIcon","ArrowTrendingUpIcon","ArrowTrendingDownIcon","SparklesIcon","globalTaskStore","microsoftDataService","jsx","_jsx","jsxs","_jsxs","DataPage","tasks","setTasks","users","setUsers","loading","setLoading","loadData","unsubscribe","subscribe","allTasks","getAllTasks","usersData","Promise","all","getEnterpriseUsers","error","console","parseDeadlineDate","dateStr","isoDate","Date","isNaN","getTime","parsed","_unused","getCurrentYearTasks","currentYear","getFullYear","yearStart","yearEnd","filter","task","deadline","Deadline","start","end","metrics","currentYearTasks","thisWeekStart","thisWeekEnd","thisMonthStart","thisMonthEnd","isCompleted","Completed_x003f_","Completed","totalTasksAllTime","length","totalTasksThisYear","completedTasksAllTime","completedTasksThisYear","tasksThisWeek","tasksThisMonth","urgentTasksAllTime","t","Priority","urgentTasksThisYear","normalTasksAllTime","normalTasksThisYear","now","overdueTasks","completedTasksWithData","Modified","avgDaysBeforeDue","totalDays","reduce","sum","completedDate","daysBeforeDue","Math","round","USER_ASSIGNMENTS_KEY","localAssignments","stored","localStorage","getItem","JSON","departments","departmentMetrics","forEach","dept","deptTasks","responsibleParty","ResponsibleParty","emails","split","map","e","trim","some","email","assignment","includes","completedDeptTasks","total","completed","percentage","projects","Set","Project","Boolean","projectMetrics","project","projectTasks","completedProjectTasks","userMetrics","user","userEmail","mail","userPrincipalName","userDisplayName","displayName","DisplayName","userTasks","toLowerCase","initials","n","charAt","join","initialsWithName","concat","completedUserTasks","name","completionRateAllTime","completionRateThisYear","className","children","Object","entries","_ref","data","style","width","slice","_ref2","title","idx"],"sources":["/Users/nic/housing-deadlines-app/VERSION_2.2.0_BACKUP/src/DataPage.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { format, parse, isValid, differenceInDays, startOfYear, endOfYear, startOfWeek, endOfWeek, startOfMonth, endOfMonth, isWithinInterval, parseISO } from 'date-fns';\nimport {\n  ChartBarIcon,\n  UserIcon,\n  BuildingOfficeIcon,\n  FolderIcon,\n  CalendarDaysIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon,\n  ArrowTrendingUpIcon,\n  ArrowTrendingDownIcon,\n  SparklesIcon\n} from '@heroicons/react/24/outline';\nimport { globalTaskStore } from './globalTaskStore';\nimport { microsoftDataService } from './microsoftDataService';\n\nfunction DataPage() {\n  const [tasks, setTasks] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        \n        // Subscribe to global task store updates\n        const unsubscribe = globalTaskStore.subscribe(() => {\n          const allTasks = globalTaskStore.getAllTasks();\n          setTasks(allTasks);\n        });\n        \n        // Get initial data\n        const [allTasks, usersData] = await Promise.all([\n          globalTaskStore.getAllTasks(),\n          microsoftDataService.users.getEnterpriseUsers()\n        ]);\n        setTasks(allTasks);\n        setUsers(usersData);\n        \n        return unsubscribe;\n      } catch (error) {\n        console.error('DataPage: Error loading data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  // Helper function to parse deadline dates\n  const parseDeadlineDate = (dateStr) => {\n    if (!dateStr) return null;\n    try {\n      const isoDate = new Date(dateStr);\n      if (!isNaN(isoDate.getTime())) {\n        return isoDate;\n      }\n      const parsed = parse(dateStr, 'yyyy-MM-dd', new Date());\n      return isValid(parsed) ? parsed : null;\n    } catch {\n      return null;\n    }\n  };\n\n  // Get current year tasks\n  const getCurrentYearTasks = () => {\n    const currentYear = new Date().getFullYear();\n    const yearStart = startOfYear(new Date(currentYear, 0, 1));\n    const yearEnd = endOfYear(new Date(currentYear, 11, 31));\n    \n    return tasks.filter(task => {\n      const deadline = parseDeadlineDate(task.Deadline);\n      return deadline && isWithinInterval(deadline, { start: yearStart, end: yearEnd });\n    });\n  };\n\n  // Calculate comprehensive metrics\n  const metrics = useMemo(() => {\n    const currentYear = new Date().getFullYear();\n    const currentYearTasks = getCurrentYearTasks();\n    const thisWeekStart = startOfWeek(new Date());\n    const thisWeekEnd = endOfWeek(new Date());\n    const thisMonthStart = startOfMonth(new Date());\n    const thisMonthEnd = endOfMonth(new Date());\n\n    // Helper to check completion\n    const isCompleted = (task) => \n      task.Completed_x003f_ === true || task.Completed_x003f_ === 'Yes' || \n      task.Completed_x003f_ === 'yes' || task.Completed === true ||\n      task.Completed === 'Yes' || task.Completed === 'yes';\n\n    // Total counts\n    const totalTasksAllTime = tasks.length;\n    const totalTasksThisYear = currentYearTasks.length;\n    const completedTasksAllTime = tasks.filter(isCompleted).length;\n    const completedTasksThisYear = currentYearTasks.filter(isCompleted).length;\n\n    // Due this week/month/year\n    const tasksThisWeek = tasks.filter(task => {\n      const deadline = parseDeadlineDate(task.Deadline);\n      return deadline && isWithinInterval(deadline, { start: thisWeekStart, end: thisWeekEnd });\n    });\n    \n    const tasksThisMonth = tasks.filter(task => {\n      const deadline = parseDeadlineDate(task.Deadline);\n      return deadline && isWithinInterval(deadline, { start: thisMonthStart, end: thisMonthEnd });\n    });\n\n    // Task types (Priority)\n    const urgentTasksAllTime = tasks.filter(t => t.Priority === 'Urgent').length;\n    const urgentTasksThisYear = currentYearTasks.filter(t => t.Priority === 'Urgent').length;\n    const normalTasksAllTime = tasks.filter(t => t.Priority !== 'Urgent').length;\n    const normalTasksThisYear = currentYearTasks.filter(t => t.Priority !== 'Urgent').length;\n\n    // Overdue tasks\n    const now = new Date();\n    const overdueTasks = tasks.filter(task => {\n      if (isCompleted(task)) return false;\n      const deadline = parseDeadlineDate(task.Deadline);\n      return deadline && deadline < now;\n    });\n\n    // Calculate average completion time before due date\n    const completedTasksWithData = tasks.filter(task => {\n      if (!isCompleted(task)) return false;\n      const deadline = parseDeadlineDate(task.Deadline);\n      // Check if task has a Modified date that we can use as completion date\n      return deadline && task.Modified;\n    });\n\n    let avgDaysBeforeDue = 0;\n    if (completedTasksWithData.length > 0) {\n      const totalDays = completedTasksWithData.reduce((sum, task) => {\n        const deadline = parseDeadlineDate(task.Deadline);\n        const completedDate = new Date(task.Modified);\n        const daysBeforeDue = differenceInDays(deadline, completedDate);\n        return sum + daysBeforeDue;\n      }, 0);\n      avgDaysBeforeDue = Math.round(totalDays / completedTasksWithData.length);\n    }\n\n    // Department metrics\n    const USER_ASSIGNMENTS_KEY = 'user_assignments';\n    let localAssignments = {};\n    try {\n      const stored = localStorage.getItem(USER_ASSIGNMENTS_KEY);\n      if (stored) {\n        localAssignments = JSON.parse(stored);\n      }\n    } catch (error) {\n      console.error('DataPage: Error loading user assignments:', error);\n    }\n\n    const departments = ['Development', 'Accounting', 'Compliance', 'Management'];\n    const departmentMetrics = {};\n    \n    departments.forEach(dept => {\n      const deptTasks = currentYearTasks.filter(task => {\n        const responsibleParty = task.ResponsibleParty;\n        if (!responsibleParty) return false;\n        \n        const emails = responsibleParty.split(';').map(e => e.trim());\n        return emails.some(email => {\n          const assignment = localAssignments[email];\n          return assignment && assignment.departments && assignment.departments.includes(dept);\n        });\n      });\n\n      const completedDeptTasks = deptTasks.filter(isCompleted);\n      \n      departmentMetrics[dept] = {\n        total: deptTasks.length,\n        completed: completedDeptTasks.length,\n        percentage: deptTasks.length > 0 ? Math.round((completedDeptTasks.length / deptTasks.length) * 100) : 0\n      };\n    });\n\n    // Project metrics\n    const projects = [...new Set(currentYearTasks.map(t => t.Project).filter(Boolean))];\n    const projectMetrics = {};\n    \n    projects.forEach(project => {\n      const projectTasks = currentYearTasks.filter(t => t.Project === project);\n      const completedProjectTasks = projectTasks.filter(isCompleted);\n      \n      projectMetrics[project] = {\n        total: projectTasks.length,\n        completed: completedProjectTasks.length,\n        percentage: projectTasks.length > 0 ? Math.round((completedProjectTasks.length / projectTasks.length) * 100) : 0\n      };\n    });\n\n    // User metrics\n    const userMetrics = users.map(user => {\n      const userEmail = user.mail || user.userPrincipalName || user.email;\n      const userDisplayName = user.displayName || user.DisplayName || userEmail;\n      \n      const userTasks = currentYearTasks.filter(task => {\n        const responsibleParty = task.ResponsibleParty;\n        if (!responsibleParty) return false;\n        \n        // Try matching by email first\n        if (responsibleParty.toLowerCase().includes(userEmail.toLowerCase())) {\n          return true;\n        }\n        \n        // Try matching by display name\n        if (responsibleParty.toLowerCase().includes(userDisplayName.toLowerCase())) {\n          return true;\n        }\n        \n        // Try matching by initials + display name (like \"NK Nick Karamardian\")\n        const initials = userDisplayName.split(' ').map(n => n.charAt(0)).join('');\n        const initialsWithName = `${initials} ${userDisplayName}`.toLowerCase();\n        if (responsibleParty.toLowerCase().includes(initialsWithName)) {\n          return true;\n        }\n        \n        return false;\n      });\n\n      const completedUserTasks = userTasks.filter(isCompleted);\n      \n      return {\n        name: user.displayName || user.DisplayName || userEmail,\n        email: userEmail,\n        total: userTasks.length,\n        completed: completedUserTasks.length,\n        percentage: userTasks.length > 0 ? Math.round((completedUserTasks.length / userTasks.length) * 100) : 0\n      };\n    });\n\n    return {\n      totalTasksAllTime,\n      totalTasksThisYear,\n      completedTasksAllTime,\n      completedTasksThisYear,\n      tasksThisWeek: tasksThisWeek.length,\n      tasksThisMonth: tasksThisMonth.length,\n      urgentTasksAllTime,\n      urgentTasksThisYear,\n      normalTasksAllTime,\n      normalTasksThisYear,\n      overdueTasks: overdueTasks.length,\n      avgDaysBeforeDue,\n      completionRateAllTime: totalTasksAllTime > 0 ? Math.round((completedTasksAllTime / totalTasksAllTime) * 100) : 0,\n      completionRateThisYear: totalTasksThisYear > 0 ? Math.round((completedTasksThisYear / totalTasksThisYear) * 100) : 0,\n      departmentMetrics,\n      projectMetrics,\n      userMetrics\n    };\n  }, [tasks, users]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-gray-500 dark:text-gray-400\">Loading data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n            Data Analytics\n          </h1>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n            Comprehensive metrics and insights across your entire project portfolio\n          </p>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n            {format(new Date(), 'MMMM yyyy')}\n          </div>\n          <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n            Data as of {format(new Date(), 'MMM dd, yyyy')}\n          </div>\n        </div>\n      </div>\n\n      {/* Summary Cards - All Time */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <SparklesIcon className=\"w-6 h-6 text-blue-500\" />\n          All-Time Overview\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-blue-900 dark:text-blue-300\">Total Tasks</p>\n                <p className=\"text-4xl font-bold text-blue-600 dark:text-blue-400 mt-2\">{metrics.totalTasksAllTime}</p>\n                <p className=\"text-xs text-blue-700 dark:text-blue-300 mt-1\">All time</p>\n              </div>\n              <ChartBarIcon className=\"w-12 h-12 text-blue-500 opacity-50\" />\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-700\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-green-900 dark:text-green-300\">Completed</p>\n                <p className=\"text-4xl font-bold text-green-600 dark:text-green-400 mt-2\">{metrics.completedTasksAllTime}</p>\n                <p className=\"text-xs text-green-700 dark:text-green-300 mt-1\">{metrics.completionRateAllTime}% completion rate</p>\n              </div>\n              <CheckCircleIcon className=\"w-12 h-12 text-green-500 opacity-50\" />\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-orange-200 dark:border-orange-700\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-orange-900 dark:text-orange-300\">Urgent Priority</p>\n                <p className=\"text-4xl font-bold text-orange-600 dark:text-orange-400 mt-2\">{metrics.urgentTasksAllTime}</p>\n                <p className=\"text-xs text-orange-700 dark:text-orange-300 mt-1\">High priority tasks</p>\n              </div>\n              <ExclamationTriangleIcon className=\"w-12 h-12 text-orange-500 opacity-50\" />\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-6 border border-red-200 dark:border-red-700\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-red-900 dark:text-red-300\">Overdue</p>\n                <p className=\"text-4xl font-bold text-red-600 dark:text-red-400 mt-2\">{metrics.overdueTasks}</p>\n                <p className=\"text-xs text-red-700 dark:text-red-300 mt-1\">Past deadline</p>\n              </div>\n              <ClockIcon className=\"w-12 h-12 text-red-500 opacity-50\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* This Year Summary */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <CalendarDaysIcon className=\"w-6 h-6 text-purple-500\" />\n          {new Date().getFullYear()} Overview\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n            <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Tasks</p>\n            <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-2\">{metrics.totalTasksThisYear}</p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">This year</p>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n            <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Completed</p>\n            <p className=\"text-3xl font-bold text-green-600 dark:text-green-400 mt-2\">{metrics.completedTasksThisYear}</p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">{metrics.completionRateThisYear}% rate</p>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n            <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">This Week</p>\n            <p className=\"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mt-2\">{metrics.tasksThisWeek}</p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Due this week</p>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n            <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">This Month</p>\n            <p className=\"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2\">{metrics.tasksThisMonth}</p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Due this month</p>\n          </div>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n            <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Urgent</p>\n            <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2\">{metrics.urgentTasksThisYear}</p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">High priority</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Performance Metrics */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <ArrowTrendingUpIcon className=\"w-6 h-6 text-green-500\" />\n          Performance Metrics\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl p-6 border border-emerald-200 dark:border-emerald-700\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"p-2 bg-emerald-500 rounded-lg\">\n                <ClockIcon className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-emerald-900 dark:text-emerald-300\">Avg. Completion Time</p>\n                <p className=\"text-xs text-emerald-700 dark:text-emerald-400\">Days before deadline</p>\n              </div>\n            </div>\n            <p className=\"text-4xl font-bold text-emerald-600 dark:text-emerald-400\">\n              {metrics.avgDaysBeforeDue > 0 ? `+${metrics.avgDaysBeforeDue}` : metrics.avgDaysBeforeDue}\n            </p>\n            <p className=\"text-xs text-emerald-700 dark:text-emerald-300 mt-2\">\n              {metrics.avgDaysBeforeDue > 0 ? 'Completed early on average' : metrics.avgDaysBeforeDue < 0 ? 'Completed late on average' : 'On-time completion'}\n            </p>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"p-2 bg-blue-500 rounded-lg\">\n                <ChartBarIcon className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-blue-900 dark:text-blue-300\">Task Priority Split</p>\n                <p className=\"text-xs text-blue-700 dark:text-blue-400\">This year distribution</p>\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">Urgent:</span>\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">{metrics.urgentTasksThisYear}</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">Normal:</span>\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">{metrics.normalTasksThisYear}</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"p-2 bg-purple-500 rounded-lg\">\n                <CalendarDaysIcon className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-purple-900 dark:text-purple-300\">Upcoming Deadlines</p>\n                <p className=\"text-xs text-purple-700 dark:text-purple-400\">Next 30 days</p>\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">This Week:</span>\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">{metrics.tasksThisWeek}</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-400\">This Month:</span>\n                <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">{metrics.tasksThisMonth}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Department Progress */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <BuildingOfficeIcon className=\"w-6 h-6 text-indigo-500\" />\n          Department Progress ({new Date().getFullYear()})\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {Object.entries(metrics.departmentMetrics).map(([dept, data]) => (\n            <div key={dept} className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"font-semibold text-gray-900 dark:text-white\">{dept}</h3>\n                <BuildingOfficeIcon className=\"w-5 h-5 text-gray-400\" />\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">Completed</span>\n                  <span className=\"font-semibold text-gray-900 dark:text-white\">{data.completed} / {data.total}</span>\n                </div>\n                <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                  <div \n                    className=\"bg-indigo-600 dark:bg-indigo-500 h-2 rounded-full transition-all duration-300\"\n                    style={{ width: `${data.percentage}%` }}\n                  ></div>\n                </div>\n                <p className=\"text-xs text-center text-gray-500 dark:text-gray-400\">{data.percentage}% complete</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Project Progress */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <FolderIcon className=\"w-6 h-6 text-cyan-500\" />\n          Project Progress ({new Date().getFullYear()})\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {Object.entries(metrics.projectMetrics).slice(0, 9).map(([project, data]) => (\n            <div key={project} className=\"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"font-semibold text-gray-900 dark:text-white text-sm truncate\" title={project}>{project}</h3>\n                <FolderIcon className=\"w-5 h-5 text-gray-400 flex-shrink-0\" />\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">Completed</span>\n                  <span className=\"font-semibold text-gray-900 dark:text-white\">{data.completed} / {data.total}</span>\n                </div>\n                <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                  <div \n                    className=\"bg-cyan-600 dark:bg-cyan-500 h-2 rounded-full transition-all duration-300\"\n                    style={{ width: `${data.percentage}%` }}\n                  ></div>\n                </div>\n                <p className=\"text-xs text-center text-gray-500 dark:text-gray-400\">{data.percentage}% complete</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* User Progress */}\n      <div>\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <UserIcon className=\"w-6 h-6 text-pink-500\" />\n          User Progress ({new Date().getFullYear()})\n        </h2>\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">User</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Total Tasks</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Completed</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Progress</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Completion Rate</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                {metrics.userMetrics.map((user, idx) => (\n                  <tr key={idx} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-8 w-8 bg-pink-100 dark:bg-pink-900/30 rounded-full flex items-center justify-center\">\n                          <span className=\"text-xs font-medium text-pink-600 dark:text-pink-400\">\n                            {user.name.charAt(0)}\n                          </span>\n                        </div>\n                        <div className=\"ml-3\">\n                          <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{user.name}</div>\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400\">{user.email}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">{user.total}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400\">{user.completed}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                        <div \n                          className=\"bg-pink-600 dark:bg-pink-500 h-2 rounded-full transition-all duration-300\"\n                          style={{ width: `${user.percentage}%` }}\n                        ></div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">{user.percentage}%</span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DataPage;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,OAASC,MAAM,CAAEC,KAAK,CAAEC,OAAO,CAAEC,gBAAgB,CAAEC,WAAW,CAAEC,SAAS,CAAEC,WAAW,CAAEC,SAAS,CAAEC,YAAY,CAAEC,UAAU,CAAEC,gBAAgB,CAAEC,QAAQ,KAAQ,UAAU,CACzK,OACEC,YAAY,CACZC,QAAQ,CACRC,kBAAkB,CAClBC,UAAU,CACVC,gBAAgB,CAChBC,SAAS,CACTC,eAAe,CACfC,uBAAuB,CACvBC,mBAAmB,CACnBC,qBAAqB,CACrBC,YAAY,KACP,6BAA6B,CACpC,OAASC,eAAe,KAAQ,mBAAmB,CACnD,OAASC,oBAAoB,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9D,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGlC,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmC,KAAK,CAAEC,QAAQ,CAAC,CAAGpC,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACqC,OAAO,CAAEC,UAAU,CAAC,CAAGtC,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACFD,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAAE,WAAW,CAAGd,eAAe,CAACe,SAAS,CAAC,IAAM,CAClD,KAAM,CAAAC,QAAQ,CAAGhB,eAAe,CAACiB,WAAW,CAAC,CAAC,CAC9CT,QAAQ,CAACQ,QAAQ,CAAC,CACpB,CAAC,CAAC,CAEF;AACA,KAAM,CAACA,QAAQ,CAAEE,SAAS,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC9CpB,eAAe,CAACiB,WAAW,CAAC,CAAC,CAC7BhB,oBAAoB,CAACQ,KAAK,CAACY,kBAAkB,CAAC,CAAC,CAChD,CAAC,CACFb,QAAQ,CAACQ,QAAQ,CAAC,CAClBN,QAAQ,CAACQ,SAAS,CAAC,CAEnB,MAAO,CAAAJ,WAAW,CACpB,CAAE,MAAOQ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDC,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAW,iBAAiB,CAAIC,OAAO,EAAK,CACrC,GAAI,CAACA,OAAO,CAAE,MAAO,KAAI,CACzB,GAAI,CACF,KAAM,CAAAC,OAAO,CAAG,GAAI,CAAAC,IAAI,CAACF,OAAO,CAAC,CACjC,GAAI,CAACG,KAAK,CAACF,OAAO,CAACG,OAAO,CAAC,CAAC,CAAC,CAAE,CAC7B,MAAO,CAAAH,OAAO,CAChB,CACA,KAAM,CAAAI,MAAM,CAAGpD,KAAK,CAAC+C,OAAO,CAAE,YAAY,CAAE,GAAI,CAAAE,IAAI,CAAC,CAAC,CAAC,CACvD,MAAO,CAAAhD,OAAO,CAACmD,MAAM,CAAC,CAAGA,MAAM,CAAG,IAAI,CACxC,CAAE,MAAAC,OAAA,CAAM,CACN,MAAO,KAAI,CACb,CACF,CAAC,CAED;AACA,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAN,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CAC5C,KAAM,CAAAC,SAAS,CAAGtD,WAAW,CAAC,GAAI,CAAA8C,IAAI,CAACM,WAAW,CAAE,CAAC,CAAE,CAAC,CAAC,CAAC,CAC1D,KAAM,CAAAG,OAAO,CAAGtD,SAAS,CAAC,GAAI,CAAA6C,IAAI,CAACM,WAAW,CAAE,EAAE,CAAE,EAAE,CAAC,CAAC,CAExD,MAAO,CAAA1B,KAAK,CAAC8B,MAAM,CAACC,IAAI,EAAI,CAC1B,KAAM,CAAAC,QAAQ,CAAGf,iBAAiB,CAACc,IAAI,CAACE,QAAQ,CAAC,CACjD,MAAO,CAAAD,QAAQ,EAAIpD,gBAAgB,CAACoD,QAAQ,CAAE,CAAEE,KAAK,CAAEN,SAAS,CAAEO,GAAG,CAAEN,OAAQ,CAAC,CAAC,CACnF,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAO,OAAO,CAAGnE,OAAO,CAAC,IAAM,CAC5B,KAAM,CAAAyD,WAAW,CAAG,GAAI,CAAAN,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CAC5C,KAAM,CAAAU,gBAAgB,CAAGZ,mBAAmB,CAAC,CAAC,CAC9C,KAAM,CAAAa,aAAa,CAAG9D,WAAW,CAAC,GAAI,CAAA4C,IAAI,CAAC,CAAC,CAAC,CAC7C,KAAM,CAAAmB,WAAW,CAAG9D,SAAS,CAAC,GAAI,CAAA2C,IAAI,CAAC,CAAC,CAAC,CACzC,KAAM,CAAAoB,cAAc,CAAG9D,YAAY,CAAC,GAAI,CAAA0C,IAAI,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAAqB,YAAY,CAAG9D,UAAU,CAAC,GAAI,CAAAyC,IAAI,CAAC,CAAC,CAAC,CAE3C;AACA,KAAM,CAAAsB,WAAW,CAAIX,IAAI,EACvBA,IAAI,CAACY,gBAAgB,GAAK,IAAI,EAAIZ,IAAI,CAACY,gBAAgB,GAAK,KAAK,EACjEZ,IAAI,CAACY,gBAAgB,GAAK,KAAK,EAAIZ,IAAI,CAACa,SAAS,GAAK,IAAI,EAC1Db,IAAI,CAACa,SAAS,GAAK,KAAK,EAAIb,IAAI,CAACa,SAAS,GAAK,KAAK,CAEtD;AACA,KAAM,CAAAC,iBAAiB,CAAG7C,KAAK,CAAC8C,MAAM,CACtC,KAAM,CAAAC,kBAAkB,CAAGV,gBAAgB,CAACS,MAAM,CAClD,KAAM,CAAAE,qBAAqB,CAAGhD,KAAK,CAAC8B,MAAM,CAACY,WAAW,CAAC,CAACI,MAAM,CAC9D,KAAM,CAAAG,sBAAsB,CAAGZ,gBAAgB,CAACP,MAAM,CAACY,WAAW,CAAC,CAACI,MAAM,CAE1E;AACA,KAAM,CAAAI,aAAa,CAAGlD,KAAK,CAAC8B,MAAM,CAACC,IAAI,EAAI,CACzC,KAAM,CAAAC,QAAQ,CAAGf,iBAAiB,CAACc,IAAI,CAACE,QAAQ,CAAC,CACjD,MAAO,CAAAD,QAAQ,EAAIpD,gBAAgB,CAACoD,QAAQ,CAAE,CAAEE,KAAK,CAAEI,aAAa,CAAEH,GAAG,CAAEI,WAAY,CAAC,CAAC,CAC3F,CAAC,CAAC,CAEF,KAAM,CAAAY,cAAc,CAAGnD,KAAK,CAAC8B,MAAM,CAACC,IAAI,EAAI,CAC1C,KAAM,CAAAC,QAAQ,CAAGf,iBAAiB,CAACc,IAAI,CAACE,QAAQ,CAAC,CACjD,MAAO,CAAAD,QAAQ,EAAIpD,gBAAgB,CAACoD,QAAQ,CAAE,CAAEE,KAAK,CAAEM,cAAc,CAAEL,GAAG,CAAEM,YAAa,CAAC,CAAC,CAC7F,CAAC,CAAC,CAEF;AACA,KAAM,CAAAW,kBAAkB,CAAGpD,KAAK,CAAC8B,MAAM,CAACuB,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAK,QAAQ,CAAC,CAACR,MAAM,CAC5E,KAAM,CAAAS,mBAAmB,CAAGlB,gBAAgB,CAACP,MAAM,CAACuB,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAK,QAAQ,CAAC,CAACR,MAAM,CACxF,KAAM,CAAAU,kBAAkB,CAAGxD,KAAK,CAAC8B,MAAM,CAACuB,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAK,QAAQ,CAAC,CAACR,MAAM,CAC5E,KAAM,CAAAW,mBAAmB,CAAGpB,gBAAgB,CAACP,MAAM,CAACuB,CAAC,EAAIA,CAAC,CAACC,QAAQ,GAAK,QAAQ,CAAC,CAACR,MAAM,CAExF;AACA,KAAM,CAAAY,GAAG,CAAG,GAAI,CAAAtC,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAuC,YAAY,CAAG3D,KAAK,CAAC8B,MAAM,CAACC,IAAI,EAAI,CACxC,GAAIW,WAAW,CAACX,IAAI,CAAC,CAAE,MAAO,MAAK,CACnC,KAAM,CAAAC,QAAQ,CAAGf,iBAAiB,CAACc,IAAI,CAACE,QAAQ,CAAC,CACjD,MAAO,CAAAD,QAAQ,EAAIA,QAAQ,CAAG0B,GAAG,CACnC,CAAC,CAAC,CAEF;AACA,KAAM,CAAAE,sBAAsB,CAAG5D,KAAK,CAAC8B,MAAM,CAACC,IAAI,EAAI,CAClD,GAAI,CAACW,WAAW,CAACX,IAAI,CAAC,CAAE,MAAO,MAAK,CACpC,KAAM,CAAAC,QAAQ,CAAGf,iBAAiB,CAACc,IAAI,CAACE,QAAQ,CAAC,CACjD;AACA,MAAO,CAAAD,QAAQ,EAAID,IAAI,CAAC8B,QAAQ,CAClC,CAAC,CAAC,CAEF,GAAI,CAAAC,gBAAgB,CAAG,CAAC,CACxB,GAAIF,sBAAsB,CAACd,MAAM,CAAG,CAAC,CAAE,CACrC,KAAM,CAAAiB,SAAS,CAAGH,sBAAsB,CAACI,MAAM,CAAC,CAACC,GAAG,CAAElC,IAAI,GAAK,CAC7D,KAAM,CAAAC,QAAQ,CAAGf,iBAAiB,CAACc,IAAI,CAACE,QAAQ,CAAC,CACjD,KAAM,CAAAiC,aAAa,CAAG,GAAI,CAAA9C,IAAI,CAACW,IAAI,CAAC8B,QAAQ,CAAC,CAC7C,KAAM,CAAAM,aAAa,CAAG9F,gBAAgB,CAAC2D,QAAQ,CAAEkC,aAAa,CAAC,CAC/D,MAAO,CAAAD,GAAG,CAAGE,aAAa,CAC5B,CAAC,CAAE,CAAC,CAAC,CACLL,gBAAgB,CAAGM,IAAI,CAACC,KAAK,CAACN,SAAS,CAAGH,sBAAsB,CAACd,MAAM,CAAC,CAC1E,CAEA;AACA,KAAM,CAAAwB,oBAAoB,CAAG,kBAAkB,CAC/C,GAAI,CAAAC,gBAAgB,CAAG,CAAC,CAAC,CACzB,GAAI,CACF,KAAM,CAAAC,MAAM,CAAGC,YAAY,CAACC,OAAO,CAACJ,oBAAoB,CAAC,CACzD,GAAIE,MAAM,CAAE,CACVD,gBAAgB,CAAGI,IAAI,CAACxG,KAAK,CAACqG,MAAM,CAAC,CACvC,CACF,CAAE,MAAOzD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2CAA2C,CAAEA,KAAK,CAAC,CACnE,CAEA,KAAM,CAAA6D,WAAW,CAAG,CAAC,aAAa,CAAE,YAAY,CAAE,YAAY,CAAE,YAAY,CAAC,CAC7E,KAAM,CAAAC,iBAAiB,CAAG,CAAC,CAAC,CAE5BD,WAAW,CAACE,OAAO,CAACC,IAAI,EAAI,CAC1B,KAAM,CAAAC,SAAS,CAAG3C,gBAAgB,CAACP,MAAM,CAACC,IAAI,EAAI,CAChD,KAAM,CAAAkD,gBAAgB,CAAGlD,IAAI,CAACmD,gBAAgB,CAC9C,GAAI,CAACD,gBAAgB,CAAE,MAAO,MAAK,CAEnC,KAAM,CAAAE,MAAM,CAAGF,gBAAgB,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAC7D,MAAO,CAAAJ,MAAM,CAACK,IAAI,CAACC,KAAK,EAAI,CAC1B,KAAM,CAAAC,UAAU,CAAGnB,gBAAgB,CAACkB,KAAK,CAAC,CAC1C,MAAO,CAAAC,UAAU,EAAIA,UAAU,CAACd,WAAW,EAAIc,UAAU,CAACd,WAAW,CAACe,QAAQ,CAACZ,IAAI,CAAC,CACtF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF,KAAM,CAAAa,kBAAkB,CAAGZ,SAAS,CAAClD,MAAM,CAACY,WAAW,CAAC,CAExDmC,iBAAiB,CAACE,IAAI,CAAC,CAAG,CACxBc,KAAK,CAAEb,SAAS,CAAClC,MAAM,CACvBgD,SAAS,CAAEF,kBAAkB,CAAC9C,MAAM,CACpCiD,UAAU,CAAEf,SAAS,CAAClC,MAAM,CAAG,CAAC,CAAGsB,IAAI,CAACC,KAAK,CAAEuB,kBAAkB,CAAC9C,MAAM,CAAGkC,SAAS,CAAClC,MAAM,CAAI,GAAG,CAAC,CAAG,CACxG,CAAC,CACH,CAAC,CAAC,CAEF;AACA,KAAM,CAAAkD,QAAQ,CAAG,CAAC,GAAG,GAAI,CAAAC,GAAG,CAAC5D,gBAAgB,CAACgD,GAAG,CAAChC,CAAC,EAAIA,CAAC,CAAC6C,OAAO,CAAC,CAACpE,MAAM,CAACqE,OAAO,CAAC,CAAC,CAAC,CACnF,KAAM,CAAAC,cAAc,CAAG,CAAC,CAAC,CAEzBJ,QAAQ,CAAClB,OAAO,CAACuB,OAAO,EAAI,CAC1B,KAAM,CAAAC,YAAY,CAAGjE,gBAAgB,CAACP,MAAM,CAACuB,CAAC,EAAIA,CAAC,CAAC6C,OAAO,GAAKG,OAAO,CAAC,CACxE,KAAM,CAAAE,qBAAqB,CAAGD,YAAY,CAACxE,MAAM,CAACY,WAAW,CAAC,CAE9D0D,cAAc,CAACC,OAAO,CAAC,CAAG,CACxBR,KAAK,CAAES,YAAY,CAACxD,MAAM,CAC1BgD,SAAS,CAAES,qBAAqB,CAACzD,MAAM,CACvCiD,UAAU,CAAEO,YAAY,CAACxD,MAAM,CAAG,CAAC,CAAGsB,IAAI,CAACC,KAAK,CAAEkC,qBAAqB,CAACzD,MAAM,CAAGwD,YAAY,CAACxD,MAAM,CAAI,GAAG,CAAC,CAAG,CACjH,CAAC,CACH,CAAC,CAAC,CAEF;AACA,KAAM,CAAA0D,WAAW,CAAGtG,KAAK,CAACmF,GAAG,CAACoB,IAAI,EAAI,CACpC,KAAM,CAAAC,SAAS,CAAGD,IAAI,CAACE,IAAI,EAAIF,IAAI,CAACG,iBAAiB,EAAIH,IAAI,CAAChB,KAAK,CACnE,KAAM,CAAAoB,eAAe,CAAGJ,IAAI,CAACK,WAAW,EAAIL,IAAI,CAACM,WAAW,EAAIL,SAAS,CAEzE,KAAM,CAAAM,SAAS,CAAG3E,gBAAgB,CAACP,MAAM,CAACC,IAAI,EAAI,CAChD,KAAM,CAAAkD,gBAAgB,CAAGlD,IAAI,CAACmD,gBAAgB,CAC9C,GAAI,CAACD,gBAAgB,CAAE,MAAO,MAAK,CAEnC;AACA,GAAIA,gBAAgB,CAACgC,WAAW,CAAC,CAAC,CAACtB,QAAQ,CAACe,SAAS,CAACO,WAAW,CAAC,CAAC,CAAC,CAAE,CACpE,MAAO,KAAI,CACb,CAEA;AACA,GAAIhC,gBAAgB,CAACgC,WAAW,CAAC,CAAC,CAACtB,QAAQ,CAACkB,eAAe,CAACI,WAAW,CAAC,CAAC,CAAC,CAAE,CAC1E,MAAO,KAAI,CACb,CAEA;AACA,KAAM,CAAAC,QAAQ,CAAGL,eAAe,CAACzB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC8B,CAAC,EAAIA,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAC1E,KAAM,CAAAC,gBAAgB,CAAG,GAAAC,MAAA,CAAGL,QAAQ,MAAAK,MAAA,CAAIV,eAAe,EAAGI,WAAW,CAAC,CAAC,CACvE,GAAIhC,gBAAgB,CAACgC,WAAW,CAAC,CAAC,CAACtB,QAAQ,CAAC2B,gBAAgB,CAAC,CAAE,CAC7D,MAAO,KAAI,CACb,CAEA,MAAO,MAAK,CACd,CAAC,CAAC,CAEF,KAAM,CAAAE,kBAAkB,CAAGR,SAAS,CAAClF,MAAM,CAACY,WAAW,CAAC,CAExD,MAAO,CACL+E,IAAI,CAAEhB,IAAI,CAACK,WAAW,EAAIL,IAAI,CAACM,WAAW,EAAIL,SAAS,CACvDjB,KAAK,CAAEiB,SAAS,CAChBb,KAAK,CAAEmB,SAAS,CAAClE,MAAM,CACvBgD,SAAS,CAAE0B,kBAAkB,CAAC1E,MAAM,CACpCiD,UAAU,CAAEiB,SAAS,CAAClE,MAAM,CAAG,CAAC,CAAGsB,IAAI,CAACC,KAAK,CAAEmD,kBAAkB,CAAC1E,MAAM,CAAGkE,SAAS,CAAClE,MAAM,CAAI,GAAG,CAAC,CAAG,CACxG,CAAC,CACH,CAAC,CAAC,CAEF,MAAO,CACLD,iBAAiB,CACjBE,kBAAkB,CAClBC,qBAAqB,CACrBC,sBAAsB,CACtBC,aAAa,CAAEA,aAAa,CAACJ,MAAM,CACnCK,cAAc,CAAEA,cAAc,CAACL,MAAM,CACrCM,kBAAkB,CAClBG,mBAAmB,CACnBC,kBAAkB,CAClBC,mBAAmB,CACnBE,YAAY,CAAEA,YAAY,CAACb,MAAM,CACjCgB,gBAAgB,CAChB4D,qBAAqB,CAAE7E,iBAAiB,CAAG,CAAC,CAAGuB,IAAI,CAACC,KAAK,CAAErB,qBAAqB,CAAGH,iBAAiB,CAAI,GAAG,CAAC,CAAG,CAAC,CAChH8E,sBAAsB,CAAE5E,kBAAkB,CAAG,CAAC,CAAGqB,IAAI,CAACC,KAAK,CAAEpB,sBAAsB,CAAGF,kBAAkB,CAAI,GAAG,CAAC,CAAG,CAAC,CACpH8B,iBAAiB,CACjBuB,cAAc,CACdI,WACF,CAAC,CACH,CAAC,CAAE,CAACxG,KAAK,CAAEE,KAAK,CAAC,CAAC,CAElB,GAAIE,OAAO,CAAE,CACX,mBACER,IAAA,QAAKgI,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDjI,IAAA,QAAKgI,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,iBAAe,CAAK,CAAC,CACpE,CAAC,CAEV,CAEA,mBACE/H,KAAA,QAAK8H,SAAS,CAAC,eAAe,CAAAC,QAAA,eAE5B/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD/H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,OAAIgI,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAAC,gBAEjE,CAAI,CAAC,cACLjI,IAAA,MAAGgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,yEAE7D,CAAG,CAAC,EACD,CAAC,cACN/H,KAAA,QAAK8H,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjI,IAAA,QAAKgI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CACjE3J,MAAM,CAAC,GAAI,CAAAkD,IAAI,CAAC,CAAC,CAAE,WAAW,CAAC,CAC7B,CAAC,cACNtB,KAAA,QAAK8H,SAAS,CAAC,0CAA0C,CAAAC,QAAA,EAAC,aAC7C,CAAC3J,MAAM,CAAC,GAAI,CAAAkD,IAAI,CAAC,CAAC,CAAE,cAAc,CAAC,EAC3C,CAAC,EACH,CAAC,EACH,CAAC,cAGNtB,KAAA,QAAA+H,QAAA,eACE/H,KAAA,OAAI8H,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC9FjI,IAAA,CAACJ,YAAY,EAACoI,SAAS,CAAC,uBAAuB,CAAE,CAAC,oBAEpD,EAAI,CAAC,cACL9H,KAAA,QAAK8H,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnEjI,IAAA,QAAKgI,SAAS,CAAC,iJAAiJ,CAAAC,QAAA,cAC9J/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD/H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,aAAW,CAAG,CAAC,cACnFjI,IAAA,MAAGgI,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAEzF,OAAO,CAACS,iBAAiB,CAAI,CAAC,cACvGjD,IAAA,MAAGgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,UAAQ,CAAG,CAAC,EACtE,CAAC,cACNjI,IAAA,CAACd,YAAY,EAAC8I,SAAS,CAAC,oCAAoC,CAAE,CAAC,EAC5D,CAAC,CACH,CAAC,cAENhI,IAAA,QAAKgI,SAAS,CAAC,uJAAuJ,CAAAC,QAAA,cACpK/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD/H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cACnFjI,IAAA,MAAGgI,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CAAEzF,OAAO,CAACY,qBAAqB,CAAI,CAAC,cAC7GlD,KAAA,MAAG8H,SAAS,CAAC,iDAAiD,CAAAC,QAAA,EAAEzF,OAAO,CAACsF,qBAAqB,CAAC,mBAAiB,EAAG,CAAC,EAChH,CAAC,cACN9H,IAAA,CAACR,eAAe,EAACwI,SAAS,CAAC,qCAAqC,CAAE,CAAC,EAChE,CAAC,CACH,CAAC,cAENhI,IAAA,QAAKgI,SAAS,CAAC,6JAA6J,CAAAC,QAAA,cAC1K/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD/H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cAC3FjI,IAAA,MAAGgI,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAEzF,OAAO,CAACgB,kBAAkB,CAAI,CAAC,cAC5GxD,IAAA,MAAGgI,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,EACrF,CAAC,cACNjI,IAAA,CAACP,uBAAuB,EAACuI,SAAS,CAAC,sCAAsC,CAAE,CAAC,EACzE,CAAC,CACH,CAAC,cAENhI,IAAA,QAAKgI,SAAS,CAAC,2IAA2I,CAAAC,QAAA,cACxJ/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD/H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,SAAO,CAAG,CAAC,cAC7EjI,IAAA,MAAGgI,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAAEzF,OAAO,CAACuB,YAAY,CAAI,CAAC,cAChG/D,IAAA,MAAGgI,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,EACzE,CAAC,cACNjI,IAAA,CAACT,SAAS,EAACyI,SAAS,CAAC,mCAAmC,CAAE,CAAC,EACxD,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,cAGN9H,KAAA,QAAA+H,QAAA,eACE/H,KAAA,OAAI8H,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC9FjI,IAAA,CAACV,gBAAgB,EAAC0I,SAAS,CAAC,yBAAyB,CAAE,CAAC,CACvD,GAAI,CAAAxG,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CAAC,WAC5B,EAAI,CAAC,cACL7B,KAAA,QAAK8H,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnE/H,KAAA,QAAK8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC7GjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,aAAW,CAAG,CAAC,cACnFjI,IAAA,MAAGgI,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAAEzF,OAAO,CAACW,kBAAkB,CAAI,CAAC,cACrGnD,IAAA,MAAGgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,EACvE,CAAC,cAEN/H,KAAA,QAAK8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC7GjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cACjFjI,IAAA,MAAGgI,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CAAEzF,OAAO,CAACa,sBAAsB,CAAI,CAAC,cAC9GnD,KAAA,MAAG8H,SAAS,CAAC,+CAA+C,CAAAC,QAAA,EAAEzF,OAAO,CAACuF,sBAAsB,CAAC,QAAM,EAAG,CAAC,EACpG,CAAC,cAEN7H,KAAA,QAAK8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC7GjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cACjFjI,IAAA,MAAGgI,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAEzF,OAAO,CAACc,aAAa,CAAI,CAAC,cACvGtD,IAAA,MAAGgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,EAC3E,CAAC,cAEN/H,KAAA,QAAK8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC7GjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAClFjI,IAAA,MAAGgI,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAEzF,OAAO,CAACe,cAAc,CAAI,CAAC,cACpGvD,IAAA,MAAGgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,gBAAc,CAAG,CAAC,EAC5E,CAAC,cAEN/H,KAAA,QAAK8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC7GjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,QAAM,CAAG,CAAC,cAC9EjI,IAAA,MAAGgI,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAEzF,OAAO,CAACmB,mBAAmB,CAAI,CAAC,cAC7G3D,IAAA,MAAGgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,eAAa,CAAG,CAAC,EAC3E,CAAC,EACH,CAAC,EACH,CAAC,cAGN/H,KAAA,QAAA+H,QAAA,eACE/H,KAAA,OAAI8H,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC9FjI,IAAA,CAACN,mBAAmB,EAACsI,SAAS,CAAC,wBAAwB,CAAE,CAAC,sBAE5D,EAAI,CAAC,cACL9H,KAAA,QAAK8H,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/H,KAAA,QAAK8H,SAAS,CAAC,4JAA4J,CAAAC,QAAA,eACzK/H,KAAA,QAAK8H,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CjI,IAAA,QAAKgI,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5CjI,IAAA,CAACT,SAAS,EAACyI,SAAS,CAAC,oBAAoB,CAAE,CAAC,CACzC,CAAC,cACN9H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CAAC,sBAAoB,CAAG,CAAC,cAClGjI,IAAA,MAAGgI,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,sBAAoB,CAAG,CAAC,EACnF,CAAC,EACH,CAAC,cACNjI,IAAA,MAAGgI,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CACrEzF,OAAO,CAAC0B,gBAAgB,CAAG,CAAC,KAAAyD,MAAA,CAAOnF,OAAO,CAAC0B,gBAAgB,EAAK1B,OAAO,CAAC0B,gBAAgB,CACxF,CAAC,cACJlE,IAAA,MAAGgI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAC/DzF,OAAO,CAAC0B,gBAAgB,CAAG,CAAC,CAAG,4BAA4B,CAAG1B,OAAO,CAAC0B,gBAAgB,CAAG,CAAC,CAAG,2BAA2B,CAAG,oBAAoB,CAC/I,CAAC,EACD,CAAC,cAENhE,KAAA,QAAK8H,SAAS,CAAC,gJAAgJ,CAAAC,QAAA,eAC7J/H,KAAA,QAAK8H,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CjI,IAAA,QAAKgI,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzCjI,IAAA,CAACd,YAAY,EAAC8I,SAAS,CAAC,oBAAoB,CAAE,CAAC,CAC5C,CAAC,cACN9H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,cAC3FjI,IAAA,MAAGgI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,wBAAsB,CAAG,CAAC,EAC/E,CAAC,EACH,CAAC,cACN/H,KAAA,QAAK8H,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDjI,IAAA,SAAMgI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cACzEjI,IAAA,SAAMgI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAEzF,OAAO,CAACmB,mBAAmB,CAAO,CAAC,EACvG,CAAC,cACNzD,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDjI,IAAA,SAAMgI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cACzEjI,IAAA,SAAMgI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAEzF,OAAO,CAACqB,mBAAmB,CAAO,CAAC,EACvG,CAAC,EACH,CAAC,EACH,CAAC,cAEN3D,KAAA,QAAK8H,SAAS,CAAC,wJAAwJ,CAAAC,QAAA,eACrK/H,KAAA,QAAK8H,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CjI,IAAA,QAAKgI,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3CjI,IAAA,CAACV,gBAAgB,EAAC0I,SAAS,CAAC,oBAAoB,CAAE,CAAC,CAChD,CAAC,cACN9H,KAAA,QAAA+H,QAAA,eACEjI,IAAA,MAAGgI,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,cAC9FjI,IAAA,MAAGgI,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,EACzE,CAAC,EACH,CAAC,cACN/H,KAAA,QAAK8H,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/H,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDjI,IAAA,SAAMgI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cAC5EjI,IAAA,SAAMgI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAEzF,OAAO,CAACc,aAAa,CAAO,CAAC,EACjG,CAAC,cACNpD,KAAA,QAAK8H,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDjI,IAAA,SAAMgI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,aAAW,CAAM,CAAC,cAC7EjI,IAAA,SAAMgI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAEzF,OAAO,CAACe,cAAc,CAAO,CAAC,EAClG,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNrD,KAAA,QAAA+H,QAAA,eACE/H,KAAA,OAAI8H,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC9FjI,IAAA,CAACZ,kBAAkB,EAAC4I,SAAS,CAAC,yBAAyB,CAAE,CAAC,wBACrC,CAAC,GAAI,CAAAxG,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CAAC,GACjD,EAAI,CAAC,cACL/B,IAAA,QAAKgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEC,MAAM,CAACC,OAAO,CAAC3F,OAAO,CAACyC,iBAAiB,CAAC,CAACQ,GAAG,CAAC2C,IAAA,MAAC,CAACjD,IAAI,CAAEkD,IAAI,CAAC,CAAAD,IAAA,oBAC1DlI,KAAA,QAAgB8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eACxH/H,KAAA,QAAK8H,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjI,IAAA,OAAIgI,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAE9C,IAAI,CAAK,CAAC,cACvEnF,IAAA,CAACZ,kBAAkB,EAAC4I,SAAS,CAAC,uBAAuB,CAAE,CAAC,EACrD,CAAC,cACN9H,KAAA,QAAK8H,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/H,KAAA,QAAK8H,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CjI,IAAA,SAAMgI,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,cACnE/H,KAAA,SAAM8H,SAAS,CAAC,6CAA6C,CAAAC,QAAA,EAAEI,IAAI,CAACnC,SAAS,CAAC,KAAG,CAACmC,IAAI,CAACpC,KAAK,EAAO,CAAC,EACjG,CAAC,cACNjG,IAAA,QAAKgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnEjI,IAAA,QACEgI,SAAS,CAAC,+EAA+E,CACzFM,KAAK,CAAE,CAAEC,KAAK,IAAAZ,MAAA,CAAKU,IAAI,CAAClC,UAAU,KAAI,CAAE,CACpC,CAAC,CACJ,CAAC,cACNjG,KAAA,MAAG8H,SAAS,CAAC,sDAAsD,CAAAC,QAAA,EAAEI,IAAI,CAAClC,UAAU,CAAC,YAAU,EAAG,CAAC,EAChG,CAAC,GAjBEhB,IAkBL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAGNjF,KAAA,QAAA+H,QAAA,eACE/H,KAAA,OAAI8H,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC9FjI,IAAA,CAACX,UAAU,EAAC2I,SAAS,CAAC,uBAAuB,CAAE,CAAC,qBAC9B,CAAC,GAAI,CAAAxG,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CAAC,GAC9C,EAAI,CAAC,cACL/B,IAAA,QAAKgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEC,MAAM,CAACC,OAAO,CAAC3F,OAAO,CAACgE,cAAc,CAAC,CAACgC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC/C,GAAG,CAACgD,KAAA,MAAC,CAAChC,OAAO,CAAE4B,IAAI,CAAC,CAAAI,KAAA,oBACtEvI,KAAA,QAAmB8H,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC3H/H,KAAA,QAAK8H,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjI,IAAA,OAAIgI,SAAS,CAAC,8DAA8D,CAACU,KAAK,CAAEjC,OAAQ,CAAAwB,QAAA,CAAExB,OAAO,CAAK,CAAC,cAC3GzG,IAAA,CAACX,UAAU,EAAC2I,SAAS,CAAC,qCAAqC,CAAE,CAAC,EAC3D,CAAC,cACN9H,KAAA,QAAK8H,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/H,KAAA,QAAK8H,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CjI,IAAA,SAAMgI,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,cACnE/H,KAAA,SAAM8H,SAAS,CAAC,6CAA6C,CAAAC,QAAA,EAAEI,IAAI,CAACnC,SAAS,CAAC,KAAG,CAACmC,IAAI,CAACpC,KAAK,EAAO,CAAC,EACjG,CAAC,cACNjG,IAAA,QAAKgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnEjI,IAAA,QACEgI,SAAS,CAAC,2EAA2E,CACrFM,KAAK,CAAE,CAAEC,KAAK,IAAAZ,MAAA,CAAKU,IAAI,CAAClC,UAAU,KAAI,CAAE,CACpC,CAAC,CACJ,CAAC,cACNjG,KAAA,MAAG8H,SAAS,CAAC,sDAAsD,CAAAC,QAAA,EAAEI,IAAI,CAAClC,UAAU,CAAC,YAAU,EAAG,CAAC,EAChG,CAAC,GAjBEM,OAkBL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAGNvG,KAAA,QAAA+H,QAAA,eACE/H,KAAA,OAAI8H,SAAS,CAAC,kFAAkF,CAAAC,QAAA,eAC9FjI,IAAA,CAACb,QAAQ,EAAC6I,SAAS,CAAC,uBAAuB,CAAE,CAAC,kBAC/B,CAAC,GAAI,CAAAxG,IAAI,CAAC,CAAC,CAACO,WAAW,CAAC,CAAC,CAAC,GAC3C,EAAI,CAAC,cACL/B,IAAA,QAAKgI,SAAS,CAAC,4GAA4G,CAAAC,QAAA,cACzHjI,IAAA,QAAKgI,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B/H,KAAA,UAAO8H,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACvBjI,IAAA,UAAOgI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC5C/H,KAAA,OAAA+H,QAAA,eACEjI,IAAA,OAAIgI,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cAC3HjI,IAAA,OAAIgI,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cAClIjI,IAAA,OAAIgI,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cAChIjI,IAAA,OAAIgI,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC/HjI,IAAA,OAAIgI,SAAS,CAAC,mGAAmG,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,EACpI,CAAC,CACA,CAAC,cACRjI,IAAA,UAAOgI,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC7DzF,OAAO,CAACoE,WAAW,CAACnB,GAAG,CAAC,CAACoB,IAAI,CAAE8B,GAAG,gBACjCzI,KAAA,OAAc8H,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eAC/DjI,IAAA,OAAIgI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC/H,KAAA,QAAK8H,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjI,IAAA,QAAKgI,SAAS,CAAC,qGAAqG,CAAAC,QAAA,cAClHjI,IAAA,SAAMgI,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CACnEpB,IAAI,CAACgB,IAAI,CAACL,MAAM,CAAC,CAAC,CAAC,CAChB,CAAC,CACJ,CAAC,cACNtH,KAAA,QAAK8H,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjI,IAAA,QAAKgI,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAEpB,IAAI,CAACgB,IAAI,CAAM,CAAC,cACpF7H,IAAA,QAAKgI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAEpB,IAAI,CAAChB,KAAK,CAAM,CAAC,EACzE,CAAC,EACH,CAAC,CACJ,CAAC,cACL7F,IAAA,OAAIgI,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAAEpB,IAAI,CAACZ,KAAK,CAAK,CAAC,cACnGjG,IAAA,OAAIgI,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CAAEpB,IAAI,CAACX,SAAS,CAAK,CAAC,cAC5GlG,IAAA,OAAIgI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzCjI,IAAA,QAAKgI,SAAS,CAAC,oDAAoD,CAAAC,QAAA,cACjEjI,IAAA,QACEgI,SAAS,CAAC,2EAA2E,CACrFM,KAAK,CAAE,CAAEC,KAAK,IAAAZ,MAAA,CAAKd,IAAI,CAACV,UAAU,KAAI,CAAE,CACpC,CAAC,CACJ,CAAC,CACJ,CAAC,cACLnG,IAAA,OAAIgI,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACzC/H,KAAA,SAAM8H,SAAS,CAAC,qDAAqD,CAAAC,QAAA,EAAEpB,IAAI,CAACV,UAAU,CAAC,GAAC,EAAM,CAAC,CAC7F,CAAC,GA1BEwC,GA2BL,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAxI,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}